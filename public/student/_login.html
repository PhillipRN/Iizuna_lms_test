<!doctype html>
<html>
<head>
    {include file='_gtag.html'}
    <meta charset="UTF-8">
    <meta name="robots" content="noindex">
    <title>ログイン</title>

    {include file='_favicon.html'}

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- link -->
    <link rel="stylesheet" href="../common/bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="common/style/common.css?20230402">
    <link href="https://fonts.googleapis.com/css?family=Cormorant+Garamond:400,400i,500,500i,600,600i,700,700i" rel="stylesheet">

    <script src="../common/scripts/jquery-3.6.0.min.js"></script>
    <script type="text/javascript">
        $(function() {
            $('#loginForm').submit(loginSubmit);
            $('#display_password').change(toggleDisplayPassword);
        });

        function loginSubmit(event) {
            var errors = [];

            if ($('#login_id').val() == '') {
                errors.push('ログインIDを入力してください。');
            }

            if ($('#password').val() == '') {
                errors.push('パスワードを入力してください。');
            }

            if (errors.length != 0) {
                $('#errors').html(errors.join('<br>'));
                return false;
            }

            return true;
        }

        /**
         * パスワード表示切替
         */
        function toggleDisplayPassword() {
            if ($('#display_password').prop('checked')) {
                $('#password').attr('type', 'text');
            } else {
                $('#password').attr('type', 'password');
            }
        }
    </script>
</head>

<body>
<header>
    <article id="header_title">
        <h1>ログイン</h1>
    </article>
</header>
<main>
    <section>
        <article class="center">
            <div id="errors" class="caution">
                {foreach $errors as $error name='loop'}
                {$error|nl2br}<br />
                {/foreach}
            </div>
            <form action="login.php" method="post" id="loginForm" class="webForm">
                <table>
                    <tr>
                        <th>ログインID</th>
                        <td><input type="text" name="login_id" id="login_id" value="{if !empty($params)}{$params.login_id}{/if}" /></td>
                    </tr>
                    <tr>
                        <th>パスワード</th>
                        <td style="user-select: none">
                            <input type="password" name="password" id="password" value="{if !empty($params)}{$params.password}{/if}" /><br />
                            <input type="checkbox" value="1" id="display_password" /> <label for="display_password">パスワードを表示</label>
                        </td>
                    </tr>
                </table>
                <input type="hidden" name="auto_login" value="1" id="auto_login" />

                <button class="btn btn-primary">ログイン</button>
            </form>
        </article>
    </section>
</main>
</body>
</html>